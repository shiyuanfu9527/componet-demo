import{k as m,d as u,e as _,o as i,c as a,F as w,v as x,u as v,q as p,b as y}from"./index-99e3db34.js";const E={class:"waterfall"},M=["src"],S={__name:"waterfall",setup(z){const f=Math.floor(Math.random()*100)+1;let l=m([{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0}]);fetch(`https://www.mxnzp.com/api/image/girl/list?page=${f}&app_id=sghs8pllwqmxilgc&app_secret=MXVSanhjMnB1eG1ubnExOEJQc3EvQT09`,{method:"GET"}).then(e=>e.json()).then(e=>{l.forEach((o,t)=>{o.src=e.data.list[t%10].imageUrl,o.height=e.data.list[t%10].imageSize.split("x")[1]/(Math.floor(Math.random()*3)+3)}),s()}).catch(e=>console.log(e));const s=()=>{const e=document.querySelector(".waterfall").clientWidth,o=320,t=10,r=Math.floor(e/(o+t)),h=new Array(r).fill(0);l.forEach((c,k)=>{const n=h.indexOf(Math.min(...h)),g=n*(o+t),d=h[n];h[n]+=c.height+t,c.top=d,c.left=g})};return u(()=>{s(),window.addEventListener("resize",s)}),_(()=>{window.removeEventListener("resize",s)}),(e,o)=>(i(),a("div",E,[(i(!0),a(w,null,x(v(l),(t,r)=>(i(),a("div",{key:r,class:"item",style:p({top:t.top+"px",left:t.left+"px"})},[y("img",{src:t.src,style:p({height:t.height+"px"})},null,12,M)],4))),128))]))}};export{S as default};
