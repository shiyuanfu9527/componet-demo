import{k as d,d as u,e as _,o as i,c as a,F as m,v as w,u as x,q as p,b as v}from"./index-f23010d8.js";const y={class:"waterfall"},E=["src"],B={__name:"waterfall",setup(M){let l=d([{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0}]);fetch("https://www.mxnzp.com/api/image/girl/list?page=2&app_id=sghs8pllwqmxilgc&app_secret=MXVSanhjMnB1eG1ubnExOEJQc3EvQT09",{method:"GET"}).then(e=>e.json()).then(e=>{l.forEach((s,t)=>{s.src=e.data.list[t%10].imageUrl})}).catch(e=>console.log(e));const c=()=>{const e=document.querySelector(".waterfall").clientWidth,s=300,t=10,h=Math.floor(e/(s+t)),o=new Array(h).fill(0);l.forEach((r,k)=>{const n=o.indexOf(Math.min(...o)),f=n*(s+t),g=o[n];o[n]+=r.height+t,r.top=g,r.left=f})};return u(()=>{c(),window.addEventListener("resize",c)}),_(()=>{window.removeEventListener("resize",c)}),(e,s)=>(i(),a("div",y,[(i(!0),a(m,null,w(x(l),(t,h)=>(i(),a("div",{key:h,class:"item",style:p({top:t.top+"px",left:t.left+"px"})},[v("img",{src:t.src,style:p({height:t.height+"px"})},null,12,E)],4))),128))]))}};export{B as default};
