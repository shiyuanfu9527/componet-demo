import{k as m,d as u,e as _,o as i,c as a,F as w,v as x,u as v,q as p,b as y}from"./index-2c5a907b.js";const E={class:"waterfall"},M=["src"],q={__name:"waterfall",setup(k){const f=Math.floor(Math.random()*100)+1;let h=m([{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0}]);fetch(`https://www.mxnzp.com/api/image/girl/list?page=${f}&app_id=sghs8pllwqmxilgc&app_secret=MXVSanhjMnB1eG1ubnExOEJQc3EvQT09`,{method:"GET"}).then(e=>e.json()).then(e=>{h.forEach((o,t)=>{o.src=e.data.list[t%10].imageUrl})}).catch(e=>console.log(e));const l=()=>{const e=document.querySelector(".waterfall").clientWidth,o=300,t=10,c=Math.floor(e/(o+t)),s=new Array(c).fill(0);h.forEach((r,z)=>{const n=s.indexOf(Math.min(...s)),g=n*(o+t),d=s[n];s[n]+=r.height+t,r.top=d,r.left=g})};return u(()=>{l(),window.addEventListener("resize",l)}),_(()=>{window.removeEventListener("resize",l)}),(e,o)=>(i(),a("div",E,[(i(!0),a(w,null,x(v(h),(t,c)=>(i(),a("div",{key:c,class:"item",style:p({top:t.top+"px",left:t.left+"px"})},[y("img",{src:t.src,style:p({height:t.height+"px"})},null,12,M)],4))),128))]))}};export{q as default};
