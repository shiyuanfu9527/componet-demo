import{x as u,k as _,d as x,o as a,c as n,F as w,v as y,q as f,b as M,u as v}from"./index-39026e69.js";const E={class:"waterfall"},k=["src"],q=u({__name:"waterfall",setup(B){const g=Math.floor(Math.random()*100)+1;let h=_([{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:400,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:200,top:0,left:0},{src:"",height:300,top:0,left:0},{src:"",height:350,top:0,left:0},{src:"",height:250,top:0,left:0},{src:"",height:400,top:0,left:0}]);fetch(`https://www.mxnzp.com/api/image/girl/list?page=${g}&app_id=sghs8pllwqmxilgc&app_secret=MXVSanhjMnB1eG1ubnExOEJQc3EvQT09`,{method:"GET"}).then(e=>e.json()).then(e=>{h.forEach((o,t)=>{o.src=e.data.list[t%10].imageUrl,o.height=e.data.list[t%10].imageSize.split("x")[1]/(Math.floor(Math.random()*3)+3)}),i()}).catch(e=>console.log(e));const i=()=>{var p;const e=(p=document.querySelector(".waterfall"))==null?void 0:p.clientWidth,o=320,t=10,l=Math.floor(e/(o+t)),s=new Array(l).fill(0);h.forEach(c=>{const r=s.indexOf(Math.min(...s)),d=r*(o+t),m=s[r];s[r]+=c.height+t,c.top=m,c.left=d})};return x(()=>{i()}),(e,o)=>(a(),n("div",E,[(a(!0),n(w,null,y(v(h),(t,l)=>(a(),n("div",{key:l,class:"item",style:f({top:t.top+"px",left:t.left+"px"})},[M("img",{src:t.src,style:f({height:t.height+"px"})},null,12,k)],4))),128))]))}});export{q as default};
